2026-01-05 08:46:22.824 -03:00 [INF] Now listening on: https://localhost:7278
2026-01-05 08:46:22.879 -03:00 [INF] Now listening on: http://localhost:5245
2026-01-05 08:46:23.009 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2026-01-05 08:46:23.010 -03:00 [INF] Hosting environment: Development
2026-01-05 08:46:23.012 -03:00 [INF] Content root path: C:\Users\miche\source\repos\OneCNPJ\OneCNPJ.API
2026-01-05 08:46:24.935 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7278/ - null null
2026-01-05 08:46:25.211 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7278/ - 404 0 null 287.6376ms
2026-01-05 08:46:25.226 -03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7278/, Response status code: 404
2026-01-05 09:14:36.825 -03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7278/api/v1/Cnpj/GetStatus - null null
2026-01-05 09:14:36.846 -03:00 [INF] Executing endpoint 'OneCNPJ.API.Controllers.CnpjController.GetStatusAsync (OneCNPJ.API)'
2026-01-05 09:14:36.919 -03:00 [INF] Route matched with {action = "GetStatus", controller = "Cnpj"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[OneCNPJ.DTOs.VOs.CnpjImportacaoVO]] GetStatusAsync() on controller OneCNPJ.API.Controllers.CnpjController (OneCNPJ.API).
2026-01-05 09:14:37.736 -03:00 [INF] Buscando status da última importação (CNPJ).
2026-01-05 09:14:38.705 -03:00 [WRN] Navigations 'CnpjEmpresa.Importacao' and 'CnpjImportacao.CnpjEmpresa' were separated into two relationships since the [ForeignKey] attribute was specified on navigations on both sides.
2026-01-05 09:14:39.273 -03:00 [ERR] Erro ao buscar detalhe para entidade do tipo CnpjImportacao.
System.InvalidOperationException: Unable to determine the relationship represented by navigation 'CnpjEmpresa.Simples' of type 'CnpjSimples'. Either manually configure the relationship, or ignore this property using the '[NotMapped]' attribute or by using 'EntityTypeBuilder.Ignore' in 'OnModelCreating'.
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelValidator.<ValidatePropertyMapping>g__Validate|7_0(IConventionTypeBase typeBase, <>c__DisplayClass7_0&)
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelValidator.ValidatePropertyMapping(IModel model, IDiagnosticsLogger`1 logger)
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelValidator.Validate(IModel model, IDiagnosticsLogger`1 logger)
   at Microsoft.EntityFrameworkCore.Infrastructure.RelationalModelValidator.Validate(IModel model, IDiagnosticsLogger`1 logger)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Infrastructure.Internal.NpgsqlModelValidator.Validate(IModel model, IDiagnosticsLogger`1 logger)
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelRuntimeInitializer.Initialize(IModel model, Boolean designTime, IDiagnosticsLogger`1 validationLogger)
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelSource.CreateModel(DbContext context, ModelCreationDependencies modelCreationDependencies, Boolean designTime)
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelSource.GetModel(DbContext context, ModelCreationDependencies modelCreationDependencies, Boolean designTime)
   at Microsoft.EntityFrameworkCore.Internal.DbContextServices.CreateModel(Boolean designTime)
   at Microsoft.EntityFrameworkCore.Internal.DbContextServices.get_Model()
   at Microsoft.EntityFrameworkCore.Infrastructure.EntityFrameworkServicesBuilder.<>c.<TryAddCoreServices>b__8_4(IServiceProvider p)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitFactory(FactoryCallSite factoryCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.DynamicServiceProviderEngine.<>c__DisplayClass2_0.<RealizeService>b__0(ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(ServiceIdentifier serviceIdentifier, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.get_ContextServices()
   at Microsoft.EntityFrameworkCore.DbContext.get_InternalServiceProvider()
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.Set[TEntity]()
   at OneCNPJ.Infrastructure.Repository.CnpjImportacaoRepository.<>c.<<GetUltimoAsync>b__7_0>d.MoveNext() in C:\Users\miche\source\repos\OneCNPJ\OneCNPJ.Infrastructure\Repository\CnpjImportacaoRepository.cs:line 77
--- End of stack trace from previous location ---
   at OneCNPJ.Infrastructure.Repository.BaseRepository`3.GetDetailAsync(Func`2 query) in C:\Users\miche\source\repos\OneCNPJ\OneCNPJ.Infrastructure\Repository\BaseRepository.cs:line 151
2026-01-05 09:14:39.526 -03:00 [ERR] Erro ao buscar status da última importação CNPJ.
System.InvalidOperationException: Unable to determine the relationship represented by navigation 'CnpjEmpresa.Simples' of type 'CnpjSimples'. Either manually configure the relationship, or ignore this property using the '[NotMapped]' attribute or by using 'EntityTypeBuilder.Ignore' in 'OnModelCreating'.
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelValidator.<ValidatePropertyMapping>g__Validate|7_0(IConventionTypeBase typeBase, <>c__DisplayClass7_0&)
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelValidator.ValidatePropertyMapping(IModel model, IDiagnosticsLogger`1 logger)
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelValidator.Validate(IModel model, IDiagnosticsLogger`1 logger)
   at Microsoft.EntityFrameworkCore.Infrastructure.RelationalModelValidator.Validate(IModel model, IDiagnosticsLogger`1 logger)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Infrastructure.Internal.NpgsqlModelValidator.Validate(IModel model, IDiagnosticsLogger`1 logger)
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelRuntimeInitializer.Initialize(IModel model, Boolean designTime, IDiagnosticsLogger`1 validationLogger)
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelSource.CreateModel(DbContext context, ModelCreationDependencies modelCreationDependencies, Boolean designTime)
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelSource.GetModel(DbContext context, ModelCreationDependencies modelCreationDependencies, Boolean designTime)
   at Microsoft.EntityFrameworkCore.Internal.DbContextServices.CreateModel(Boolean designTime)
   at Microsoft.EntityFrameworkCore.Internal.DbContextServices.get_Model()
   at Microsoft.EntityFrameworkCore.Infrastructure.EntityFrameworkServicesBuilder.<>c.<TryAddCoreServices>b__8_4(IServiceProvider p)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitFactory(FactoryCallSite factoryCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.DynamicServiceProviderEngine.<>c__DisplayClass2_0.<RealizeService>b__0(ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(ServiceIdentifier serviceIdentifier, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.get_ContextServices()
   at Microsoft.EntityFrameworkCore.DbContext.get_InternalServiceProvider()
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.Set[TEntity]()
   at OneCNPJ.Infrastructure.Repository.CnpjImportacaoRepository.<>c.<<GetUltimoAsync>b__7_0>d.MoveNext() in C:\Users\miche\source\repos\OneCNPJ\OneCNPJ.Infrastructure\Repository\CnpjImportacaoRepository.cs:line 77
--- End of stack trace from previous location ---
   at OneCNPJ.Infrastructure.Repository.BaseRepository`3.GetDetailAsync(Func`2 query) in C:\Users\miche\source\repos\OneCNPJ\OneCNPJ.Infrastructure\Repository\BaseRepository.cs:line 151
   at OneCNPJ.Infrastructure.Repository.CnpjImportacaoRepository.GetUltimoAsync() in C:\Users\miche\source\repos\OneCNPJ\OneCNPJ.Infrastructure\Repository\CnpjImportacaoRepository.cs:line 75
   at OneCNPJ.Services.Services.CnpjImportacaoGetOneService.GetStatusAsync() in C:\Users\miche\source\repos\OneCNPJ\OneCNPJ.Services\Service\CnpjImportacaoGetOneService.cs:line 34
2026-01-05 09:14:39.800 -03:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2026-01-05 09:14:39.829 -03:00 [INF] Executed action OneCNPJ.API.Controllers.CnpjController.GetStatusAsync (OneCNPJ.API) in 2898.7529ms
2026-01-05 09:14:39.831 -03:00 [INF] Executed endpoint 'OneCNPJ.API.Controllers.CnpjController.GetStatusAsync (OneCNPJ.API)'
2026-01-05 09:14:39.835 -03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7278/api/v1/Cnpj/GetStatus - 500 null text/plain; charset=utf-8 3010.408ms
2026-01-05 09:17:19.200 -03:00 [WRN] Navigations 'CnpjEmpresa.Importacao' and 'CnpjImportacao.CnpjEmpresa' were separated into two relationships since the [ForeignKey] attribute was specified on navigations on both sides.
2026-01-05 09:28:50.929 -03:00 [WRN] Navigations 'CnpjEmpresa.Importacao' and 'CnpjImportacao.CnpjEmpresa' were separated into two relationships since the [ForeignKey] attribute was specified on navigations on both sides.
2026-01-05 09:29:03.917 -03:00 [WRN] Navigations 'CnpjEmpresa.Importacao' and 'CnpjImportacao.CnpjEmpresa' were separated into two relationships since the [ForeignKey] attribute was specified on navigations on both sides.
2026-01-05 09:29:31.146 -03:00 [WRN] Navigations 'CnpjEmpresa.Importacao' and 'CnpjImportacao.CnpjEmpresa' were separated into two relationships since the [ForeignKey] attribute was specified on navigations on both sides.
2026-01-05 09:29:34.359 -03:00 [ERR] An error occurred using the connection to database 'one-cnpj' on server 'tcp://db:5432'.
2026-01-05 09:32:34.589 -03:00 [WRN] Navigations 'CnpjEmpresa.Importacao' and 'CnpjImportacao.CnpjEmpresa' were separated into two relationships since the [ForeignKey] attribute was specified on navigations on both sides.
2026-01-05 09:32:46.529 -03:00 [WRN] Navigations 'CnpjEmpresa.Importacao' and 'CnpjImportacao.CnpjEmpresa' were separated into two relationships since the [ForeignKey] attribute was specified on navigations on both sides.
2026-01-05 09:32:47.619 -03:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2026-01-05 09:32:47.634 -03:00 [INF] Applying migration '20260105123235_Teste'.
2026-01-05 09:33:23.455 -03:00 [WRN] Navigations 'CnpjEmpresa.Importacao' and 'CnpjImportacao.CnpjEmpresa' were separated into two relationships since the [ForeignKey] attribute was specified on navigations on both sides.
2026-01-05 09:33:23.980 -03:00 [ERR] An error occurred using the connection to database 'one-cnpj' on server 'tcp://localhost:5432'.
2026-01-05 09:33:25.795 -03:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2026-01-05 09:33:25.831 -03:00 [INF] Applying migration '20260105123235_Teste'.
2026-01-05 09:41:05.397 -03:00 [WRN] Navigations 'CnpjEmpresa.Importacao' and 'CnpjImportacao.CnpjEmpresa' were separated into two relationships since the [ForeignKey] attribute was specified on navigations on both sides.
2026-01-05 09:41:19.253 -03:00 [WRN] Navigations 'CnpjEmpresa.Importacao' and 'CnpjImportacao.CnpjEmpresa' were separated into two relationships since the [ForeignKey] attribute was specified on navigations on both sides.
2026-01-05 09:41:19.948 -03:00 [ERR] An error occurred using the connection to database 'one-cnpj' on server 'tcp://localhost:5432'.
2026-01-05 09:41:21.442 -03:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2026-01-05 09:41:21.464 -03:00 [INF] Applying migration '20260105124106_Teste'.
2026-01-05 09:43:31.312 -03:00 [INF] Now listening on: https://localhost:7278
2026-01-05 09:43:31.411 -03:00 [INF] Now listening on: http://localhost:5245
2026-01-05 09:43:31.603 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2026-01-05 09:43:31.604 -03:00 [INF] Hosting environment: Development
2026-01-05 09:43:31.605 -03:00 [INF] Content root path: C:\Users\miche\source\repos\OneCNPJ\OneCNPJ.API
2026-01-05 09:43:31.654 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7278/ - null null
2026-01-05 09:43:31.905 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7278/ - 404 0 null 261.3643ms
2026-01-05 09:43:31.924 -03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7278/, Response status code: 404
2026-01-05 09:44:13.024 -03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7278/api/v1/Cnpj/Importar - null null
2026-01-05 09:44:13.077 -03:00 [INF] Executing endpoint '405 HTTP Method Not Supported'
2026-01-05 09:44:13.080 -03:00 [INF] Executed endpoint '405 HTTP Method Not Supported'
2026-01-05 09:44:13.092 -03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7278/api/v1/Cnpj/Importar - 405 0 null 68.9293ms
2026-01-05 09:44:22.153 -03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7278/api/v1/Cnpj/Importar - null 0
2026-01-05 09:44:22.162 -03:00 [INF] Executing endpoint 'OneCNPJ.API.Controllers.CnpjController.Importar (OneCNPJ.API)'
2026-01-05 09:44:22.225 -03:00 [INF] Route matched with {action = "Importar", controller = "Cnpj"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[OneCNPJ.DTOs.VOs.CnpjImportacaoVO]] Importar() on controller OneCNPJ.API.Controllers.CnpjController (OneCNPJ.API).
2026-01-05 09:44:22.326 -03:00 [INF] Iniciando importação CNPJ da RFD. TraceId: 2b9ce5ef-319f-4c8f-b673-c7dfd5567272
2026-01-05 09:44:22.329 -03:00 [INF] Processamento CNPJ iniciado. TraceId: 2b9ce5ef-319f-4c8f-b673-c7dfd5567272
2026-01-05 09:44:23.058 -03:00 [WRN] Navigations 'CnpjEmpresa.Importacao' and 'CnpjImportacao.CnpjEmpresa' were separated into two relationships since the [ForeignKey] attribute was specified on navigations on both sides.
2026-01-05 09:44:24.405 -03:00 [WRN] Nenhum detalhe encontrado para entidade do tipo CnpjImportacao.
2026-01-05 09:44:25.043 -03:00 [INF] Entidade adicionada com sucesso: CnpjImportacao
2026-01-05 09:44:25.045 -03:00 [INF] Entidade criada com sucesso: CnpjImportacao
2026-01-05 09:44:25.052 -03:00 [INF] Processo de importação CNPJ disparado em background. TraceId: 2b9ce5ef-319f-4c8f-b673-c7dfd5567272
2026-01-05 09:44:25.054 -03:00 [INF] Importação concluída com sucesso. TraceId: 2b9ce5ef-319f-4c8f-b673-c7dfd5567272
2026-01-05 09:44:25.072 -03:00 [INF] Executing OkObjectResult, writing value of type 'OneCNPJ.DTOs.VOs.CnpjImportacaoVO'.
2026-01-05 09:44:25.185 -03:00 [INF] Entidade do tipo CnpjImportacao com id 1 recuperada com sucesso.
2026-01-05 09:44:25.187 -03:00 [INF] Etapa Empresas iniciada. TraceId: 2b9ce5ef-319f-4c8f-b673-c7dfd5567272
2026-01-05 09:44:25.218 -03:00 [INF] Executed action OneCNPJ.API.Controllers.CnpjController.Importar (OneCNPJ.API) in 2982.9377ms
2026-01-05 09:44:25.219 -03:00 [INF] Entidade do tipo CnpjImportacao atualizada com sucesso (UpdateAsync).
2026-01-05 09:44:25.221 -03:00 [INF] Executed endpoint 'OneCNPJ.API.Controllers.CnpjController.Importar (OneCNPJ.API)'
2026-01-05 09:44:25.222 -03:00 [INF] Entidade do tipo CnpjImportacao atualizada com sucesso.
2026-01-05 09:44:25.225 -03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7278/api/v1/Cnpj/Importar - 200 null application/json; charset=utf-8 3072.1268ms
2026-01-05 09:44:25.241 -03:00 [INF] TraceId 2b9ce5ef-319f-4c8f-b673-c7dfd5567272 - Listando ZIPs RFB (Empresas)...
2026-01-05 09:44:25.251 -03:00 [INF] Start processing HTTP request GET https://arquivos.receitafederal.gov.br/dados/cnpj/dados_abertos_cnpj/
2026-01-05 09:44:25.260 -03:00 [INF] Sending HTTP request GET https://arquivos.receitafederal.gov.br/dados/cnpj/dados_abertos_cnpj/
2026-01-05 09:44:26.561 -03:00 [INF] Received HTTP response headers after 1293.1099ms - 200
2026-01-05 09:44:26.565 -03:00 [INF] End processing HTTP request after 1317.0897ms - 200
2026-01-05 09:44:26.714 -03:00 [ERR] TraceId 2b9ce5ef-319f-4c8f-b673-c7dfd5567272 - Erro ao importar Empresas
System.Exception: Nenhum ZIP de Empresas encontrado no diretório público.
   at OneCNPJ.Services.Service.Import.CnpjEmpresasImportStep.ImportarAsync(CnpjImportacaoVO importacao, String traceId) in C:\Users\miche\source\repos\OneCNPJ\OneCNPJ.Services\Service\Import\CnpjEmpresasImportStep.cs:line 47
2026-01-05 09:44:26.756 -03:00 [INF] Entidade do tipo CnpjImportacao atualizada com sucesso (UpdateAsync).
2026-01-05 09:44:26.758 -03:00 [INF] Entidade do tipo CnpjImportacao atualizada com sucesso.
2026-01-05 09:44:26.760 -03:00 [INF] Etapa Empresas finalizada. TraceId: 2b9ce5ef-319f-4c8f-b673-c7dfd5567272
2026-01-05 09:44:26.764 -03:00 [INF] Etapa Estabelecimentos iniciada. TraceId: 2b9ce5ef-319f-4c8f-b673-c7dfd5567272
2026-01-05 09:44:26.779 -03:00 [INF] Entidade do tipo CnpjImportacao atualizada com sucesso (UpdateAsync).
2026-01-05 09:44:26.781 -03:00 [INF] Entidade do tipo CnpjImportacao atualizada com sucesso.
2026-01-05 09:44:26.833 -03:00 [INF] TraceId 2b9ce5ef-319f-4c8f-b673-c7dfd5567272 - Listando ZIPs RFB (Estabelecimentos)...
2026-01-05 09:44:26.835 -03:00 [INF] Start processing HTTP request GET https://arquivos.receitafederal.gov.br/dados/cnpj/dados_abertos_cnpj/
2026-01-05 09:44:26.837 -03:00 [INF] Sending HTTP request GET https://arquivos.receitafederal.gov.br/dados/cnpj/dados_abertos_cnpj/
2026-01-05 09:44:26.887 -03:00 [INF] Received HTTP response headers after 48.0187ms - 200
2026-01-05 09:44:26.889 -03:00 [INF] End processing HTTP request after 54.0744ms - 200
2026-01-05 09:44:26.969 -03:00 [ERR] TraceId 2b9ce5ef-319f-4c8f-b673-c7dfd5567272 - Erro ao importar Estabelecimentos
System.Exception: Nenhum ZIP de Estabelecimentos encontrado no diretório público.
   at OneCNPJ.Services.Service.Import.CnpjEstabelecimentosImportStep.ImportarAsync(CnpjImportacaoVO importacao, String traceId) in C:\Users\miche\source\repos\OneCNPJ\OneCNPJ.Services\Service\Import\CnpjEstabelecimentosImportStep.cs:line 54
2026-01-05 09:44:26.977 -03:00 [INF] Entidade do tipo CnpjImportacao atualizada com sucesso (UpdateAsync).
2026-01-05 09:44:26.980 -03:00 [INF] Entidade do tipo CnpjImportacao atualizada com sucesso.
2026-01-05 09:44:26.986 -03:00 [INF] Etapa Estabelecimentos finalizada. TraceId: 2b9ce5ef-319f-4c8f-b673-c7dfd5567272
2026-01-05 09:44:26.989 -03:00 [INF] Etapa Sócios iniciada. TraceId: 2b9ce5ef-319f-4c8f-b673-c7dfd5567272
2026-01-05 09:44:27.002 -03:00 [INF] Entidade do tipo CnpjImportacao atualizada com sucesso (UpdateAsync).
2026-01-05 09:44:27.004 -03:00 [INF] Entidade do tipo CnpjImportacao atualizada com sucesso.
2026-01-05 09:44:27.008 -03:00 [INF] TraceId 2b9ce5ef-319f-4c8f-b673-c7dfd5567272 - Listando ZIPs RFB (Sócios)...
2026-01-05 09:44:27.010 -03:00 [INF] Start processing HTTP request GET https://arquivos.receitafederal.gov.br/dados/cnpj/dados_abertos_cnpj/
2026-01-05 09:44:27.014 -03:00 [INF] Sending HTTP request GET https://arquivos.receitafederal.gov.br/dados/cnpj/dados_abertos_cnpj/
2026-01-05 09:44:27.069 -03:00 [INF] Received HTTP response headers after 49.851ms - 200
2026-01-05 09:44:27.071 -03:00 [INF] End processing HTTP request after 60.8792ms - 200
2026-01-05 09:44:27.128 -03:00 [ERR] TraceId 2b9ce5ef-319f-4c8f-b673-c7dfd5567272 - Erro ao importar Sócios
System.Exception: Nenhum ZIP de Sócios encontrado no diretório público.
   at OneCNPJ.Services.Service.Import.CnpjSociosImportStep.ImportarAsync(CnpjImportacaoVO importacao, String traceId) in C:\Users\miche\source\repos\OneCNPJ\OneCNPJ.Services\Service\Import\CnpjSociosImportStep.cs:line 45
2026-01-05 09:44:27.144 -03:00 [INF] Entidade do tipo CnpjImportacao atualizada com sucesso (UpdateAsync).
2026-01-05 09:44:27.145 -03:00 [INF] Entidade do tipo CnpjImportacao atualizada com sucesso.
2026-01-05 09:44:27.148 -03:00 [INF] Etapa Sócios finalizada. TraceId: 2b9ce5ef-319f-4c8f-b673-c7dfd5567272
2026-01-05 09:44:27.154 -03:00 [INF] Etapa Simples iniciada. TraceId: 2b9ce5ef-319f-4c8f-b673-c7dfd5567272
2026-01-05 09:44:27.172 -03:00 [INF] Entidade do tipo CnpjImportacao atualizada com sucesso (UpdateAsync).
2026-01-05 09:44:27.173 -03:00 [INF] Entidade do tipo CnpjImportacao atualizada com sucesso.
2026-01-05 09:44:27.182 -03:00 [INF] TraceId 2b9ce5ef-319f-4c8f-b673-c7dfd5567272 - Listando ZIPs RFB (Simples)...
2026-01-05 09:44:27.184 -03:00 [INF] Start processing HTTP request GET https://arquivos.receitafederal.gov.br/dados/cnpj/dados_abertos_cnpj/
2026-01-05 09:44:27.188 -03:00 [INF] Sending HTTP request GET https://arquivos.receitafederal.gov.br/dados/cnpj/dados_abertos_cnpj/
2026-01-05 09:44:27.243 -03:00 [INF] Received HTTP response headers after 52.9785ms - 200
2026-01-05 09:44:27.245 -03:00 [INF] End processing HTTP request after 61.469ms - 200
2026-01-05 09:44:27.298 -03:00 [ERR] TraceId 2b9ce5ef-319f-4c8f-b673-c7dfd5567272 - Erro ao importar Simples
System.Exception: Nenhum ZIP de Simples encontrado no diretório público.
   at OneCNPJ.Services.Service.Import.CnpjSimplesImportStep.ImportarAsync(CnpjImportacaoVO importacao, String traceId) in C:\Users\miche\source\repos\OneCNPJ\OneCNPJ.Services\Service\Import\CnpjSimplesImportStep.cs:line 59
2026-01-05 09:44:27.306 -03:00 [INF] Entidade do tipo CnpjImportacao atualizada com sucesso (UpdateAsync).
2026-01-05 09:44:27.308 -03:00 [INF] Entidade do tipo CnpjImportacao atualizada com sucesso.
2026-01-05 09:44:27.311 -03:00 [INF] Etapa Simples finalizada. TraceId: 2b9ce5ef-319f-4c8f-b673-c7dfd5567272
2026-01-05 09:44:27.314 -03:00 [INF] Etapa Satélites iniciada. TraceId: 2b9ce5ef-319f-4c8f-b673-c7dfd5567272
2026-01-05 09:44:27.325 -03:00 [INF] Entidade do tipo CnpjImportacao atualizada com sucesso (UpdateAsync).
2026-01-05 09:44:27.327 -03:00 [INF] Entidade do tipo CnpjImportacao atualizada com sucesso.
2026-01-05 09:44:27.333 -03:00 [INF] Start processing HTTP request GET https://arquivos.receitafederal.gov.br/dados/cnpj/dados_abertos_cnpj/
2026-01-05 09:44:27.335 -03:00 [INF] Sending HTTP request GET https://arquivos.receitafederal.gov.br/dados/cnpj/dados_abertos_cnpj/
2026-01-05 09:44:27.395 -03:00 [INF] Received HTTP response headers after 52.2198ms - 200
2026-01-05 09:44:27.397 -03:00 [INF] End processing HTTP request after 64.5406ms - 200
2026-01-05 09:44:27.400 -03:00 [WRN] TraceId 2b9ce5ef-319f-4c8f-b673-c7dfd5567272 - Nenhum ZIP satélite encontrado. Marcando como OK (sem dados).
2026-01-05 09:44:27.407 -03:00 [INF] Entidade do tipo CnpjImportacao atualizada com sucesso (UpdateAsync).
2026-01-05 09:44:27.409 -03:00 [INF] Entidade do tipo CnpjImportacao atualizada com sucesso.
2026-01-05 09:44:27.412 -03:00 [INF] Etapa Satélites finalizada. TraceId: 2b9ce5ef-319f-4c8f-b673-c7dfd5567272
2026-01-05 09:44:27.421 -03:00 [INF] Entidade do tipo CnpjImportacao com id 1 recuperada com sucesso.
2026-01-05 09:44:27.429 -03:00 [INF] Entidade do tipo CnpjImportacao atualizada com sucesso (UpdateAsync).
2026-01-05 09:44:27.430 -03:00 [INF] Entidade do tipo CnpjImportacao atualizada com sucesso.
2026-01-05 09:44:27.435 -03:00 [WRN] Importação CNPJ finalizada com erro. TraceId: 2b9ce5ef-319f-4c8f-b673-c7dfd5567272
2026-01-05 09:45:15.882 -03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7278/api/v1/Cnpj/GetStatus - null 0
2026-01-05 09:45:15.887 -03:00 [INF] Executing endpoint '405 HTTP Method Not Supported'
2026-01-05 09:45:15.888 -03:00 [INF] Executed endpoint '405 HTTP Method Not Supported'
2026-01-05 09:45:15.890 -03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7278/api/v1/Cnpj/GetStatus - 405 0 null 8.936ms
2026-01-05 09:45:19.121 -03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7278/api/v1/Cnpj/GetStatus - null null
2026-01-05 09:45:19.126 -03:00 [INF] Executing endpoint 'OneCNPJ.API.Controllers.CnpjController.GetStatusAsync (OneCNPJ.API)'
2026-01-05 09:45:19.137 -03:00 [INF] Route matched with {action = "GetStatus", controller = "Cnpj"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[OneCNPJ.DTOs.VOs.CnpjImportacaoVO]] GetStatusAsync() on controller OneCNPJ.API.Controllers.CnpjController (OneCNPJ.API).
2026-01-05 09:45:19.210 -03:00 [INF] Buscando status da última importação (CNPJ).
2026-01-05 09:45:19.215 -03:00 [INF] Detalhe recuperado para entidade do tipo CnpjImportacao.
2026-01-05 09:45:19.216 -03:00 [INF] Status da última importação CNPJ encontrado. Id: 1
2026-01-05 09:45:19.219 -03:00 [INF] Executing OkObjectResult, writing value of type 'OneCNPJ.DTOs.VOs.Presentation.CnpjImportacaoStatusVO'.
2026-01-05 09:45:19.234 -03:00 [INF] Executed action OneCNPJ.API.Controllers.CnpjController.GetStatusAsync (OneCNPJ.API) in 92.9785ms
2026-01-05 09:45:19.235 -03:00 [INF] Executed endpoint 'OneCNPJ.API.Controllers.CnpjController.GetStatusAsync (OneCNPJ.API)'
2026-01-05 09:45:19.237 -03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7278/api/v1/Cnpj/GetStatus - 200 null application/json; charset=utf-8 116.114ms
2026-01-05 09:45:22.926 -03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7278/api/v1/Cnpj/GetStatus - null null
2026-01-05 09:45:22.930 -03:00 [INF] Executing endpoint 'OneCNPJ.API.Controllers.CnpjController.GetStatusAsync (OneCNPJ.API)'
2026-01-05 09:45:22.931 -03:00 [INF] Route matched with {action = "GetStatus", controller = "Cnpj"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[OneCNPJ.DTOs.VOs.CnpjImportacaoVO]] GetStatusAsync() on controller OneCNPJ.API.Controllers.CnpjController (OneCNPJ.API).
2026-01-05 09:45:22.948 -03:00 [INF] Buscando status da última importação (CNPJ).
2026-01-05 09:45:22.953 -03:00 [INF] Detalhe recuperado para entidade do tipo CnpjImportacao.
2026-01-05 09:45:22.957 -03:00 [INF] Status da última importação CNPJ encontrado. Id: 1
2026-01-05 09:45:22.959 -03:00 [INF] Executing OkObjectResult, writing value of type 'OneCNPJ.DTOs.VOs.Presentation.CnpjImportacaoStatusVO'.
2026-01-05 09:45:22.964 -03:00 [INF] Executed action OneCNPJ.API.Controllers.CnpjController.GetStatusAsync (OneCNPJ.API) in 28.2583ms
2026-01-05 09:45:22.965 -03:00 [INF] Executed endpoint 'OneCNPJ.API.Controllers.CnpjController.GetStatusAsync (OneCNPJ.API)'
2026-01-05 09:45:22.967 -03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7278/api/v1/Cnpj/GetStatus - 200 null application/json; charset=utf-8 41.5668ms
2026-01-05 16:03:00.642 -03:00 [INF] Now listening on: https://localhost:7278
2026-01-05 16:03:00.693 -03:00 [INF] Now listening on: http://localhost:5245
2026-01-05 16:03:00.837 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2026-01-05 16:03:00.840 -03:00 [INF] Hosting environment: Development
2026-01-05 16:03:00.845 -03:00 [INF] Content root path: C:\Users\miche\source\repos\OneCNPJ\OneCNPJ.API
2026-01-05 16:03:01.015 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7278/ - null null
2026-01-05 16:03:01.199 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7278/ - 404 0 null 194.87ms
2026-01-05 16:03:01.209 -03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7278/, Response status code: 404
2026-01-05 16:03:24.468 -03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7278/api/v1/Cnpj/Importar - null 0
2026-01-05 16:03:24.486 -03:00 [INF] Executing endpoint 'OneCNPJ.API.Controllers.CnpjController.Importar (OneCNPJ.API)'
2026-01-05 16:03:24.548 -03:00 [INF] Route matched with {action = "Importar", controller = "Cnpj"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[OneCNPJ.DTOs.VOs.CnpjImportacaoVO]] Importar() on controller OneCNPJ.API.Controllers.CnpjController (OneCNPJ.API).
2026-01-05 16:03:25.317 -03:00 [INF] Iniciando importação CNPJ da RFD. TraceId: ad1fd4d0-9e05-4307-9136-3c95cd1a0f36
2026-01-05 16:03:25.320 -03:00 [INF] Processamento CNPJ iniciado. TraceId: ad1fd4d0-9e05-4307-9136-3c95cd1a0f36
2026-01-05 16:03:26.220 -03:00 [WRN] Navigations 'CnpjEmpresa.Importacao' and 'CnpjImportacao.CnpjEmpresa' were separated into two relationships since the [ForeignKey] attribute was specified on navigations on both sides.
2026-01-05 16:03:27.795 -03:00 [INF] Detalhe recuperado para entidade do tipo CnpjImportacao.
2026-01-05 16:03:28.286 -03:00 [INF] Entidade adicionada com sucesso: CnpjImportacao
2026-01-05 16:03:28.288 -03:00 [INF] Entidade criada com sucesso: CnpjImportacao
2026-01-05 16:03:28.289 -03:00 [INF] Processo de importação CNPJ disparado em background. TraceId: ad1fd4d0-9e05-4307-9136-3c95cd1a0f36
2026-01-05 16:03:28.290 -03:00 [INF] Importação concluída com sucesso. TraceId: ad1fd4d0-9e05-4307-9136-3c95cd1a0f36
2026-01-05 16:03:28.315 -03:00 [INF] Executing OkObjectResult, writing value of type 'OneCNPJ.DTOs.VOs.CnpjImportacaoVO'.
2026-01-05 16:03:28.471 -03:00 [INF] Entidade do tipo CnpjImportacao com id 2 recuperada com sucesso.
2026-01-05 16:03:28.488 -03:00 [INF] Executed action OneCNPJ.API.Controllers.CnpjController.Importar (OneCNPJ.API) in 3929.6638ms
2026-01-05 16:03:28.491 -03:00 [INF] Executed endpoint 'OneCNPJ.API.Controllers.CnpjController.Importar (OneCNPJ.API)'
2026-01-05 16:03:28.497 -03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7278/api/v1/Cnpj/Importar - 200 null application/json; charset=utf-8 4028.7942ms
2026-01-05 16:03:29.950 -03:00 [INF] Entidade do tipo CnpjImportacao com id 2 recuperada com sucesso.
2026-01-05 16:03:29.986 -03:00 [ERR] Failed executing DbCommand (5ms) [Parameters=[@p29='?' (DbType = Int64), @p0='?' (DbType = Int64), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?' (DbType = DateTime), @p5='?' (DbType = DateTime), @p6='?' (DbType = Int64), @p7='?' (DbType = Int64), @p8='?' (DbType = Int64), @p9='?' (DbType = Int64), @p10='?' (DbType = Int64), @p11='?' (DbType = Int64), @p12='?' (DbType = Int64), @p13='?' (DbType = Int64), @p14='?' (DbType = Int64), @p15='?' (DbType = Int64), @p16='?' (DbType = Int64), @p17='?' (DbType = Int64), @p18='?' (DbType = Int64), @p19='?' (DbType = Int64), @p20='?', @p21='?' (DbType = Int32), @p22='?' (DbType = Int32), @p23='?' (DbType = Int32), @p24='?' (DbType = Int32), @p25='?' (DbType = Int32), @p26='?' (DbType = Int32), @p27='?', @p28='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE cnpj_importacao SET "CnpjEmpresaId" = @p0, data_atualizacao = @p1, data_criacao = @p2, data_referencia = @p3, fim_em = @p4, inicio_em = @p5, linhas_empresas_falhas = @p6, linhas_empresas_importadas = @p7, linhas_empresas_total = @p8, linhas_estabelecimentos_falhas = @p9, linhas_estabelecimentos_importadas = @p10, linhas_estabelecimentos_total = @p11, linhas_satelites_falhas = @p12, linhas_satelites_importadas = @p13, linhas_simples_falhas = @p14, linhas_simples_importadas = @p15, linhas_simples_total = @p16, linhas_socios_falhas = @p17, linhas_socios_importadas = @p18, linhas_socios_total = @p19, mensagem = @p20, status = @p21, status_empresas = @p22, status_estabelecimentos = @p23, status_satelites = @p24, status_simples = @p25, status_socios = @p26, url_origem = @p27, versao_origem = @p28
WHERE id = @p29;
2026-01-05 16:03:30.014 -03:00 [ERR] An exception occurred in the database while saving changes for context type 'OneCNPJ.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> System.ArgumentException: Cannot write DateTime with Kind=Unspecified to PostgreSQL type 'timestamp with time zone', only UTC is supported. Note that it's not possible to mix DateTimes with different Kinds in an array, range, or multirange. (Parameter 'value')
   at Npgsql.Internal.Converters.DateTimeConverterResolver`1.Get(DateTime value, Nullable`1 expectedPgTypeId, Boolean validateOnly)
   at Npgsql.Internal.Converters.DateTimeConverterResolver.<>c.<CreateResolver>b__0_0(DateTimeConverterResolver`1 resolver, DateTime value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.Converters.DateTimeConverterResolver`1.Get(T value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgConverterResolver`1.GetAsObjectInternal(PgTypeInfo typeInfo, Object value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgResolverTypeInfo.GetResolutionAsObject(Object value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgTypeInfo.GetObjectResolution(Object value)
   at Npgsql.NpgsqlParameter.ResolveConverter(PgTypeInfo typeInfo)
   at Npgsql.NpgsqlParameter.ResolveTypeInfo(PgSerializerOptions options)
   at Npgsql.NpgsqlParameterCollection.ProcessParameters(PgSerializerOptions options, Boolean validateValues, CommandType commandType)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> System.ArgumentException: Cannot write DateTime with Kind=Unspecified to PostgreSQL type 'timestamp with time zone', only UTC is supported. Note that it's not possible to mix DateTimes with different Kinds in an array, range, or multirange. (Parameter 'value')
   at Npgsql.Internal.Converters.DateTimeConverterResolver`1.Get(DateTime value, Nullable`1 expectedPgTypeId, Boolean validateOnly)
   at Npgsql.Internal.Converters.DateTimeConverterResolver.<>c.<CreateResolver>b__0_0(DateTimeConverterResolver`1 resolver, DateTime value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.Converters.DateTimeConverterResolver`1.Get(T value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgConverterResolver`1.GetAsObjectInternal(PgTypeInfo typeInfo, Object value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgResolverTypeInfo.GetResolutionAsObject(Object value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgTypeInfo.GetObjectResolution(Object value)
   at Npgsql.NpgsqlParameter.ResolveConverter(PgTypeInfo typeInfo)
   at Npgsql.NpgsqlParameter.ResolveTypeInfo(PgSerializerOptions options)
   at Npgsql.NpgsqlParameterCollection.ProcessParameters(PgSerializerOptions options, Boolean validateValues, CommandType commandType)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2026-01-05 16:03:30.170 -03:00 [ERR] Erro ao atualizar entidade do tipo CnpjImportacao (UpdateAsync).
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> System.ArgumentException: Cannot write DateTime with Kind=Unspecified to PostgreSQL type 'timestamp with time zone', only UTC is supported. Note that it's not possible to mix DateTimes with different Kinds in an array, range, or multirange. (Parameter 'value')
   at Npgsql.Internal.Converters.DateTimeConverterResolver`1.Get(DateTime value, Nullable`1 expectedPgTypeId, Boolean validateOnly)
   at Npgsql.Internal.Converters.DateTimeConverterResolver.<>c.<CreateResolver>b__0_0(DateTimeConverterResolver`1 resolver, DateTime value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.Converters.DateTimeConverterResolver`1.Get(T value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgConverterResolver`1.GetAsObjectInternal(PgTypeInfo typeInfo, Object value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgResolverTypeInfo.GetResolutionAsObject(Object value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgTypeInfo.GetObjectResolution(Object value)
   at Npgsql.NpgsqlParameter.ResolveConverter(PgTypeInfo typeInfo)
   at Npgsql.NpgsqlParameter.ResolveTypeInfo(PgSerializerOptions options)
   at Npgsql.NpgsqlParameterCollection.ProcessParameters(PgSerializerOptions options, Boolean validateValues, CommandType commandType)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at OneCNPJ.Infrastructure.Repository.BaseRepository`3.UpdateAsync(TEntity entity) in C:\Users\miche\source\repos\OneCNPJ\OneCNPJ.Infrastructure\Repository\BaseRepository.cs:line 225
2026-01-05 16:03:30.304 -03:00 [ERR] Erro ao atualizar entidade do tipo CnpjImportacao.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> System.ArgumentException: Cannot write DateTime with Kind=Unspecified to PostgreSQL type 'timestamp with time zone', only UTC is supported. Note that it's not possible to mix DateTimes with different Kinds in an array, range, or multirange. (Parameter 'value')
   at Npgsql.Internal.Converters.DateTimeConverterResolver`1.Get(DateTime value, Nullable`1 expectedPgTypeId, Boolean validateOnly)
   at Npgsql.Internal.Converters.DateTimeConverterResolver.<>c.<CreateResolver>b__0_0(DateTimeConverterResolver`1 resolver, DateTime value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.Converters.DateTimeConverterResolver`1.Get(T value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgConverterResolver`1.GetAsObjectInternal(PgTypeInfo typeInfo, Object value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgResolverTypeInfo.GetResolutionAsObject(Object value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgTypeInfo.GetObjectResolution(Object value)
   at Npgsql.NpgsqlParameter.ResolveConverter(PgTypeInfo typeInfo)
   at Npgsql.NpgsqlParameter.ResolveTypeInfo(PgSerializerOptions options)
   at Npgsql.NpgsqlParameterCollection.ProcessParameters(PgSerializerOptions options, Boolean validateValues, CommandType commandType)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at OneCNPJ.Infrastructure.Repository.BaseRepository`3.UpdateAsync(TEntity entity) in C:\Users\miche\source\repos\OneCNPJ\OneCNPJ.Infrastructure\Repository\BaseRepository.cs:line 225
   at OneCNPJ.Infrastructure.Repository.BaseRepository`3.Update(TEntityVO entity) in C:\Users\miche\source\repos\OneCNPJ\OneCNPJ.Infrastructure\Repository\BaseRepository.cs:line 207
2026-01-05 16:03:30.644 -03:00 [ERR] Erro na etapa Satélites. TraceId: ad1fd4d0-9e05-4307-9136-3c95cd1a0f36
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> System.ArgumentException: Cannot write DateTime with Kind=Unspecified to PostgreSQL type 'timestamp with time zone', only UTC is supported. Note that it's not possible to mix DateTimes with different Kinds in an array, range, or multirange. (Parameter 'value')
   at Npgsql.Internal.Converters.DateTimeConverterResolver`1.Get(DateTime value, Nullable`1 expectedPgTypeId, Boolean validateOnly)
   at Npgsql.Internal.Converters.DateTimeConverterResolver.<>c.<CreateResolver>b__0_0(DateTimeConverterResolver`1 resolver, DateTime value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.Converters.DateTimeConverterResolver`1.Get(T value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgConverterResolver`1.GetAsObjectInternal(PgTypeInfo typeInfo, Object value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgResolverTypeInfo.GetResolutionAsObject(Object value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgTypeInfo.GetObjectResolution(Object value)
   at Npgsql.NpgsqlParameter.ResolveConverter(PgTypeInfo typeInfo)
   at Npgsql.NpgsqlParameter.ResolveTypeInfo(PgSerializerOptions options)
   at Npgsql.NpgsqlParameterCollection.ProcessParameters(PgSerializerOptions options, Boolean validateValues, CommandType commandType)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at OneCNPJ.Infrastructure.Repository.BaseRepository`3.UpdateAsync(TEntity entity) in C:\Users\miche\source\repos\OneCNPJ\OneCNPJ.Infrastructure\Repository\BaseRepository.cs:line 225
   at OneCNPJ.Infrastructure.Repository.BaseRepository`3.Update(TEntityVO entity) in C:\Users\miche\source\repos\OneCNPJ\OneCNPJ.Infrastructure\Repository\BaseRepository.cs:line 207
   at OneCNPJ.Services.Services.Import.CnpjImportService.PreencherOrigemAsync(Int64 importacaoId, String traceId) in C:\Users\miche\source\repos\OneCNPJ\OneCNPJ.Services\Service\Import\CnpjImportService.cs:line 180
   at OneCNPJ.Services.Services.Import.CnpjImportService.ImportProcess(Int64 importacaoId, String traceId) in C:\Users\miche\source\repos\OneCNPJ\OneCNPJ.Services\Service\Import\CnpjImportService.cs:line 85
2026-01-05 16:03:30.716 -03:00 [INF] Entidade do tipo CnpjImportacao com id 2 recuperada com sucesso.
2026-01-05 16:03:30.728 -03:00 [INF] Entidade do tipo CnpjImportacao atualizada com sucesso (UpdateAsync).
2026-01-05 16:03:30.733 -03:00 [INF] Entidade do tipo CnpjImportacao atualizada com sucesso.
2026-01-05 16:03:30.736 -03:00 [WRN] Importação CNPJ finalizada com erro. TraceId: ad1fd4d0-9e05-4307-9136-3c95cd1a0f36
2026-01-05 16:03:49.936 -03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7278/api/v1/Cnpj/GetStatus - null null
2026-01-05 16:03:49.947 -03:00 [INF] Executing endpoint 'OneCNPJ.API.Controllers.CnpjController.GetStatusAsync (OneCNPJ.API)'
2026-01-05 16:03:49.960 -03:00 [INF] Route matched with {action = "GetStatus", controller = "Cnpj"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[OneCNPJ.DTOs.VOs.CnpjImportacaoVO]] GetStatusAsync() on controller OneCNPJ.API.Controllers.CnpjController (OneCNPJ.API).
2026-01-05 16:03:50.010 -03:00 [INF] Buscando status da última importação (CNPJ).
2026-01-05 16:03:50.014 -03:00 [INF] Detalhe recuperado para entidade do tipo CnpjImportacao.
2026-01-05 16:03:50.015 -03:00 [INF] Status da última importação CNPJ encontrado. Id: 2
2026-01-05 16:03:50.019 -03:00 [INF] Executing OkObjectResult, writing value of type 'OneCNPJ.DTOs.VOs.Presentation.CnpjImportacaoStatusVO'.
2026-01-05 16:03:50.036 -03:00 [INF] Executed action OneCNPJ.API.Controllers.CnpjController.GetStatusAsync (OneCNPJ.API) in 67.8151ms
2026-01-05 16:03:50.038 -03:00 [INF] Executed endpoint 'OneCNPJ.API.Controllers.CnpjController.GetStatusAsync (OneCNPJ.API)'
2026-01-05 16:03:50.041 -03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7278/api/v1/Cnpj/GetStatus - 200 null application/json; charset=utf-8 104.892ms
